<!DOCTYPE html>
<html>
<head>
    <meta charset="utf-8"/>
    <title>Web App</title>
    <meta name="viewport" content="initial-scale=1,maximum-scale=1,user-scalable=no">
	
    <link href="https://api.mapbox.com/mapbox-gl-js/v2.5.1/mapbox-gl.css" rel="stylesheet">
    <script src="https://api.mapbox.com/mapbox-gl-js/v2.5.1/mapbox-gl.js"></script>
	<link rel="stylesheet" href="CSS/style_Map.css"/>	
	<!-- <script src="https://d3js.org/d3.v4.js"></script>
	<script src="https://d3js.org/d3-scale-chromatic.v1.min.js"></script> -->
	<script src="https://code.jquery.com/jquery-3.6.0.min.js"></script>
	<script src="https://api.mapbox.com/mapbox-gl-js/plugins/mapbox-gl-compare/v0.4.0/mapbox-gl-compare.js"></script>
	<link rel="stylesheet" href="https://api.mapbox.com/mapbox-gl-js/plugins/mapbox-gl-compare/v0.4.0/mapbox-gl-compare.css" type="text/css">

</head> 
<body>
<!--  -->
<div class=container>
    <!--======= Sidebar =======-->
	<div class="sidenav">
		<!--Basic: https://www.w3schools.com/howto/howto_js_rangeslider.asp-->
		<!--Mapbox: https://docs.mapbox.com/help/tutorials/show-changes-over-time/-->
		<!--https://freefrontend.com/css-accordion-menus/-->
		<!-- Example:https://www.urbanarchive.org/cities/nyc-->
		<div class = "wrapper">

			<h1>EVALUATING NEW YORK CITY REZONING</h1>
			<p id="intro">The Interactive Map extracts data from <a href="https://www1.nyc.gov/site/planning/data-maps/open-data/dwn-pluto-mappluto.page">Primary Land Use Tax Lot Output (PLUTO)</a>, <a href="https://www.census.gov/programs-surveys/acs">US Census</a>, <a href="https://www1.nyc.gov/site/nypd/stats/crime-statistics/historical.page">NYPD</a>, NYC Open Data (<a  href="https://portal.311.nyc.gov/article/?kanumber=KA-01017">311 Complaints</a> and <a href="https://data.cityofnewyork.us/Environment/2015-Street-Tree-Census-Tree-Data/pi5s-9p35">Street Tree</a>), <a href="https://earthengine.google.com/">Google Earth Engine</a>, and <a href="http://web.mta.info/developers/developer-data-terms.html#data">MTA</a> for land use, housing units, population, income, education, crime, noise complaints, green space and transport access from the years 2010 to 2017, for each tax lot in New York City.</p>
			<p id="intro">The data was collected based on interviews with residential and commercial real estate developers who explained what drives the economics of developing an urban parcel.</p>
			<p id="intro">By visualizing the spatial pattern of the data, the tool could help the policy makers, urban planners and the general public to assess urban evolution at the lot level, thus facilitating more evidence-based urban decision making, and improve the results of future rezoning.</p>
			<!--======= Mapviewer Button =======-->
			<div class = "wrap-1">
				<input type="radio" name = "tabs" id = "tab-1"><!--name: group multiple radio buttons, could checked here-->
				<label for="tab-1" class="label-title"><div>MAP VIEWER</div><div class="cross"></div></label>
							
				<div class = "content_in_tabs">
					<h2>Choose the Input Variable</h2>
					<table id="menu">
						<tr>
						<th>
							<div class="btn">
								<input id="ckuu5ac9k3q4j17l8z5gxhoah" type="radio" name="rtoggle" value="landuse" onclick="button()" >
								<label for="ckuu5ac9k3q4j17l8z5gxhoah" class = "radio_wrap" data-radio ="radio_1"><img class="btnimg" src="Icons/SVG/Landuse.svg" alt="Icon Landuse"/></label>
								<span class='icons'>Land Use</span>
							</div>
						</th>
						<th>
							<div class="btn">
								<input id="ckvvn0nl12ewe14obm6seupo4" type="radio" name="rtoggle" value="housing" onclick="button()">
								<label for="ckvvn0nl12ewe14obm6seupo4" class = "radio_wrap" data-radio ="radio_2"><img class="btnimg" src="Icons/SVG/Housing.svg" alt="Icon Housing"/></label>
								<span class='icons'>Housing Units</span>
							</div >
						</th>
						<th>
							<div class="btn">
									<input id="ckvvznmwd2r0z14pql0jeo5z2" type="radio" name="rtoggle" value="income" onclick="button()">
									<label for="ckvvznmwd2r0z14pql0jeo5z2" class = "radio_wrap" data-radio ="radio_3"><img class="btnimg" src="Icons/SVG/Income.svg" alt="Icon Income"/></label>
									<span class='icons'>Income</span>
							</div>
						</th>
						<th>
							<div class="btn">
									<input id="ckvw20xrx041514oawwee0mcw" type="radio" name="rtoggle" value="education" onclick="button()">
									<label for="ckvw20xrx041514oawwee0mcw" class = "radio_wrap" data-radio ="radio_4"><img class="btnimg" src="Icons/SVG/Transit.svg" alt="Icon Transit"/></label>
									<span class='icons'>Education</span>
							</div>
						</th>
					</tr>
					<tr>
						<th>
							<div class="btn">
								<input id="ckvw250cs00u815pfozb1fc8c" type="radio" name="rtoggle" value="population" onclick="button()">
								<label for="ckvw250cs00u815pfozb1fc8c" class = "radio_wrap" data-radio ="radio_5"><img class="btnimg" src="Icons/SVG/Population.svg" alt="Icon Population"/></label>
								<span class='icons'>Population</span>
							</div>
						</th>
						<th>
							<div class="btn">
								<input id="ckvw2aw5004ag14oanwyhpwzt" type="radio" name="rtoggle" value="transit" onclick="button()">
								<label for="ckvw2aw5004ag14oanwyhpwzt" class = "radio_wrap" data-radio ="radio_6"><img class="btnimg" src="Icons/SVG/Transit.svg" alt="Icon Transit"/></label>
								<span class='icons'>Transit</span>
							</div>
						</th>
						<th>
							<div class="btn">
								<input id="ckvw108xn016415rto04t5sts" type="radio" name="rtoggle" value="noise" onclick="button()">
								<label for="ckvw108xn016415rto04t5sts" class = "radio_wrap" data-radio ="radio_7"><img class="btnimg" src="Icons/SVG/Noise.svg" alt="Icon Noise"/></label>
								<span class='icons'>Noise</span>
							</div>
						</th>
						<th>
							<div class="btn">
								<input id="ckvw2bawz04at14oabwk4fnan" type="radio" name="rtoggle" value="green" onclick="button()">
								<label for="ckvw2bawz04at14oabwk4fnan" class = "radio_wrap" data-radio ="radio_8"><img class="btnimg" src="Icons/SVG/Green.svg" alt="Icon Green"/></label>
								<span class='icons'>Green</span>
							</div>
						</th>
					</tr>
					</table>

					<!-- Examples: https://docs.mapbox.com/mapbox-gl-js/example/-->
					<!--Tutorials: https://docs.mapbox.com/mapbox-gl-js/example/setstyle/-->
					<!-- Swipe between maps: https://docs.mapbox.com/mapbox-gl-js/example/mapbox-gl-compare/-->

					
					<h2>View the variables across the years</h2>
					<div class='menu_2'>
						<div class ='map_by_years'>
						</div>

						<div class='slidercontainer'>
							<input type="range" min="2010" max="2017" value="2010" class="slider" id="sliderRange"  onchange="">
							<h4>Year: <span id="slider_year"></span></h4>
						</div>
					</div>

				</div>
			</div>
			<div class = "wrap-2">
				<input type="radio" name = "tabs" id = "tab-2">
				<label for="tab-2" class="label-title"><div>MODELING</div><div class="cross"></div></label>
							
				<div class="content_in_tabs">
					<p>With the extracted data above, two machine learning approaches were applied:</p>
					<p>1. Regression: Build FAR Model</p>
					<p>2. Random forest classification: Land Use Model</p>
					<p>The result of the predicted land use model was visualized and compared with the rezoning outcome (land use in 2017 from <a href="https://www1.nyc.gov/site/planning/data-maps/open-data/dwn-pluto-mappluto.page">Primary Land Use Tax Lot Output (PLUTO)</a>).</p>
				</div>
			</div>		
		</div>
	</div>

	<!--======= Map =======-->
	<div class = "interactive_map">
			<div id="map"></div>

			<div id="housing_diff">
				<div id="housing_before"  class="com"></div>
				<div id="housing_after" class="com"></div>	
			</div> 		
			
			<div id="comparison-container">
				<div id="before"  class="com"></div>
				<div id="after" class="com"></div>	
			</div>		
	</div>
</div>

<!--======= Legend =======-->
<div>
	<div class="legend">
		<div class = "radio_content radio_1">
			<h4>Land Use</h4>
			<ul>
				<li><span style="background:#f9eddb;"></span>One & Two Family Buildings</li>
				<li><span style="background:#f6d9cb;"></span>Multi-Family Walk-Up Buildings</li>
				<li><span style="background:#f6d9cb;"></span>Multi-Family Elevator Buildings</li>
				<li><span style="background:#f1b89c;"></span>Mixed Residential & Commercial Buildings</li>
				<li><span style="background:#df7649;"></span>Commercial & Office Buildings</li>
				<li><span style="background:#cf4f4f;"></span>Industrial & Manufacturing</li>
				<li><span style="background:#bec6cc;"></span>Transportation & Utility</li>
				<li><span style="background:#bde7f4;"></span>Public Facilities & Institutions</li>
				<li><span style="background:#a3d393;"></span>Open Space & Outdoor Recreation</li>
				<li><span style="background:#8da2b4;"></span>Parking Facilities</li>
				<li><span style="background:#e4e4e4;"></span>Vacant Land</li>
				<li><span style="background:#f9f9f9; border:1px solid #ccc; box-sizing:border-box;"></span>No Data</li>
			</ul>
		</div>


		<div class = "radio_content radio_2">
			<h4>Housing Units</h4>
			<ul>
				<li><span style="background:#f5f5f5;"></span>0 - 309</li>
				<li><span style="background:#F1E4E1;"></span>309 - 372</li>
				<li><span style="background:#E4CAC3;"></span>372 - 406</li>
				<li><span style="background:#D6AFA5;"></span>406 - 474</li>
				<li><span style="background:#C89487;"></span>474 - 536</li>
				<li><span style="background:#BA7969;"></span>536 - 614</li>
				<li><span style="background:#AD5F4B;"></span>614 - 755</li>
				<li><span style="background:#9F442D;"></span>755 +</li>
			</ul>
		</div>

		<div class = "radio_content radio_3">
			<h4>Income by Quantiles</h4>
			<ul>
				<li><span style="background:#f5f5f5;"></span>0 - 15424</li>
				<li><span style="background:#dae0e2;"></span>15424 - 19106</li>
				<li><span style="background:#c0cace;"></span>19106 - 22391</li>
				<li><span style="background:#a5b5bb;"></span>22391 - 25345</li>
				<li><span style="background:#8aa0a8;"></span>25345 - 28793</li>
				<li><span style="background:#6f8b95;"></span>28793 - 33006</li>
				<li><span style="background:#557581;"></span>33006 - 40731</li>
				<li><span style="background:#3a606e;"></span>40731 +</li>
			</ul>
		</div>

		<div class = "radio_content radio_4">
			<h4>Education by Quantiles</h4>
			<ul>
				<li><span style="background:#f8f9fa;"></span>0 - 175</li>
				<li><span style="background:#e0e4ea;"></span>175 - 264</li>
				<li><span style="background:#c0c9d5;"></span>264 - 335</li>
				<li><span style="background:#a1aec0;"></span>335 - 397</li>
				<li><span style="background:#8292aa;"></span>397 - 471</li>
				<li><span style="background:#637795;"></span>471 - 573</li>
				<li><span style="background:#435c80;"></span>573 - 721</li>
				<li><span style="background:#24416b;"></span>721 + </li>
			</ul>
		</div>

		<div class = "radio_content radio_5">
			<h4>Population by Quantiles</h4>
			<ul>
				<li><span style="background:#fcfbfd;"></span>0 - 497</li>
				<li><span style="background:#efedf5;"></span>497 - 613</li>
				<li><span style="background:#dadaeb;"></span>613 - 703</li>
				<li><span style="background:#bcbddc;"></span>703 - 796</li>
				<li><span style="background:#9e9ac8;"></span>796 - 901</li>
				<li><span style="background:#807dba;"></span>901 - 1018</li>
				<li><span style="background:#715f9b;"></span>1018 - 1217</li>
				<li><span style="background:#45226d;"></span>1217 +</li>
			</ul>
		</div>

		<div class = "radio_content radio_6">
			<h4>Transit Access</h4>
			<div class = gradient_container>
				<div class = "box box-one"></div>
				<div class = "box">1</div>
				<div class = "box"></div>
				<div class = "box"></div>
				<div class = "box"></div>
				<div class = "box">0</div>
			</div>
			
		</div>

		<div class = "radio_content radio_7">
			<h4>Noise per capita</h4>
			<div class = gradient_container>
				<div class = "box box-two"></div>
				<div class = "box">0.3+</div>
				<div class = "box"></div>
				<div class = "box"></div>
				<div class = "box"></div>
				<div class = "box">0</div>
			</div>
			
		</div>

		<div class = "radio_content radio_8">
			<h4>Build Green by Quantiles</h4>
			<ul>
				<li><span style="background:#dad7cd;"></span>0 - 0.13</li>
				<li><span style="background:#bec4ab;"></span>0.13 - 0.15</li>
				<li><span style="background:#b1bb9b;"></span>0.15 - 0.18</li>
				<li><span style="background:#a3b18b;"></span>0.18 - 0.20</li>
				<li><span style="background:#7d9871;"></span>0.20 - 0.22</li>
				<li><span style="background:#577f57;"></span>0.22 - 0.243</li>
				<li><span style="background:#3a5a40"></span>0.24 - 0.28</li>
				<li><span style="background:#345044;"></span>0.28 + </li>
			</ul>
		</div>
	</div>

	<div class = "legend_com">
		<h4>Left</h4>
		<h5>Housing Units</h5>
		<ul>
			<li><span style="background:#f5f5f5;"></span>0 - 309</li>
			<li><span style="background:#F1E4E1;"></span>309 - 372</li>
			<li><span style="background:#E4CAC3;"></span>372 - 406</li>
			<li><span style="background:#D6AFA5;"></span>406 - 474</li>
			<li><span style="background:#C89487;"></span>474 - 536</li>
			<li><span style="background:#BA7969;"></span>536 - 614</li>
			<li><span style="background:#AD5F4B;"></span>614 - 755</li>
			<li><span style="background:#9F442D;"></span>755 +</li>
		</ul>
		<h4>Right</h4>
		<h5>Housing Units change from 2010 to 2017</h5>
		<ul>
			<li><span style="background:#3A606E;"></span>(-2181, -92)</li>
			<li><span style="background:#698590;"></span>(-92, -44)</li>
			<li><span style="background:#98ABB2;"></span>(-44,-11)</li>
			<li><span style="background:#C6D0D3;"></span>(-11,16)</li>
			<li><span style="background:#E3CAC4;"></span>(16,44)</li>
			<li><span style="background:#D1A093;"></span>(44,78)</li>
			<li><span style="background:#BE7562;"></span>(78,129)</li>
			<li><span style="background:#AC4A31;"></span>(129,3810)</li>
		</ul>
	</div>
</div>
	  
<script src="JS/Map.js"></script>
 
</body>